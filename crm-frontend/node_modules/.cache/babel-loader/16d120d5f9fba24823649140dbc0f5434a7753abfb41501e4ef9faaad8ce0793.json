{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\mini-crm\\\\crm-frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport StatsCard from '../components/StatsCard';\nimport PreviewList from '../components/PreviewList';\nimport DonutChart from '../components/DonutChart';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [stats, setStats] = React.useState({\n    invoiceTotal: 0,\n    quoteTotal: 0,\n    paymentTotal: 0,\n    dueBalance: 0,\n    newCustomerPercent: 0\n  });\n  React.useEffect(() => {\n    async function fetchStats() {\n      try {\n        const [orderRes, customerRes] = await Promise.all([axios.get('/api/order/count'), axios.get('/api/customer/getCustomerCount')]);\n        const orderCount = orderRes.data.count;\n        const customerCount = customerRes.data.count;\n        setStats({\n          invoiceTotal: orderCount * 1000,\n          quoteTotal: orderCount * 800,\n          paymentTotal: orderCount * 500,\n          dueBalance: orderCount * 300,\n          newCustomerPercent: customerCount ? (customerCount / (customerCount + 100) * 100).toFixed(2) : 0\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    fetchStats();\n  }, []);\n  const invoiceStats = [{\n    label: 'Draft',\n    percent: 17,\n    color: 'bg-gray-600'\n  }, {\n    label: 'Pending',\n    percent: 17,\n    color: 'bg-blue-500'\n  }, {\n    label: 'Unpaid',\n    percent: 67,\n    color: 'bg-yellow-400'\n  }, {\n    label: 'Overdue',\n    percent: 6,\n    color: 'bg-red-500'\n  }, {\n    label: 'Paid',\n    percent: 28,\n    color: 'bg-green-400'\n  }];\n  const quoteStats = [...invoiceStats];\n  const offerStats = [...invoiceStats];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Invoice\",\n        subtitle: \"This Month\",\n        value: `₹${stats.invoiceTotal.toLocaleString()}`,\n        colorClass: \"text-teal-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Quote\",\n        subtitle: \"This Month\",\n        value: `₹${stats.quoteTotal.toLocaleString()}`,\n        colorClass: \"text-purple-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Payment\",\n        subtitle: \"This Month\",\n        value: `₹${stats.paymentTotal.toLocaleString()}`,\n        colorClass: \"text-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Due Balance\",\n        subtitle: \"Not Paid\",\n        value: `₹${stats.dueBalance.toLocaleString()}`,\n        colorClass: \"text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(PreviewList, {\n        title: \"Invoices Preview\",\n        items: invoiceStats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PreviewList, {\n        title: \"Quotes Preview\",\n        items: quoteStats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PreviewList, {\n        title: \"Offers Preview\",\n        items: offerStats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(DonutChart, {\n          percent: Number(stats.newCustomerPercent)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 font-semibold\",\n          children: \"New Customer This Month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-green-500 font-bold\",\n          children: [\"\\u2191 \", stats.newCustomerPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Dashboard, \"AVzEdITuJ7ruAbkxJYUPrMvhfcs=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","axios","StatsCard","PreviewList","DonutChart","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","stats","setStats","useState","invoiceTotal","quoteTotal","paymentTotal","dueBalance","newCustomerPercent","useEffect","fetchStats","orderRes","customerRes","Promise","all","get","orderCount","data","count","customerCount","toFixed","e","console","error","invoiceStats","label","percent","color","quoteStats","offerStats","children","className","StatCard","title","subtitle","value","toLocaleString","colorClass","fileName","_jsxFileName","lineNumber","columnNumber","items","Number","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/mini-crm/crm-frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport StatsCard from '../components/StatsCard';\nimport PreviewList from '../components/PreviewList';\nimport DonutChart from '../components/DonutChart';\n\nexport default function Dashboard() {\n  const [stats, setStats] = React.useState({\n    invoiceTotal: 0,\n    quoteTotal: 0,\n    paymentTotal: 0,\n    dueBalance: 0,\n    newCustomerPercent: 0\n  });\n\n  React.useEffect(() => {\n    async function fetchStats() {\n      try {\n        const [orderRes, customerRes] = await Promise.all([\n          axios.get('/api/order/count'),\n          axios.get('/api/customer/getCustomerCount')\n        ]);\n        const orderCount = orderRes.data.count;\n        const customerCount = customerRes.data.count;\n        setStats({\n          invoiceTotal: orderCount * 1000,\n          quoteTotal: orderCount * 800,\n          paymentTotal: orderCount * 500,\n          dueBalance: orderCount * 300,\n          newCustomerPercent: customerCount\n            ? ((customerCount / (customerCount + 100)) * 100).toFixed(2)\n            : 0\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    fetchStats();\n  }, []);\n\n  const invoiceStats = [\n    { label: 'Draft', percent: 17, color: 'bg-gray-600' },\n    { label: 'Pending', percent: 17, color: 'bg-blue-500' },\n    { label: 'Unpaid', percent: 67, color: 'bg-yellow-400' },\n    { label: 'Overdue', percent: 6, color: 'bg-red-500' },\n    { label: 'Paid', percent: 28, color: 'bg-green-400' }\n  ];\n  const quoteStats = [...invoiceStats];\n  const offerStats = [...invoiceStats];\n\n  return (\n    <>\n      <div className=\"grid grid-cols-4 gap-6 mb-8\">\n        <StatCard\n          title=\"Invoice\"\n          subtitle=\"This Month\"\n          value={`₹${stats.invoiceTotal.toLocaleString()}`}\n          colorClass=\"text-teal-500\"\n        />\n        <StatCard\n          title=\"Quote\"\n          subtitle=\"This Month\"\n          value={`₹${stats.quoteTotal.toLocaleString()}`}\n          colorClass=\"text-purple-500\"\n        />\n        <StatCard\n          title=\"Payment\"\n          subtitle=\"This Month\"\n          value={`₹${stats.paymentTotal.toLocaleString()}`}\n          colorClass=\"text-green-500\"\n        />\n        <StatCard\n          title=\"Due Balance\"\n          subtitle=\"Not Paid\"\n          value={`₹${stats.dueBalance.toLocaleString()}`}\n          colorClass=\"text-red-500\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-4 gap-6\">\n        <PreviewList title=\"Invoices Preview\" items={invoiceStats} />\n        <PreviewList title=\"Quotes Preview\" items={quoteStats} />\n        <PreviewList title=\"Offers Preview\" items={offerStats} />\n        <div className=\"bg-white p-6 rounded-lg shadow flex flex-col items-center\">\n          <DonutChart percent={Number(stats.newCustomerPercent)} />\n          <p className=\"mt-4 font-semibold\">New Customer This Month</p>\n          <p className=\"mt-2 text-green-500 font-bold\">↑ {stats.newCustomerPercent}%</p>\n        </div>\n      </div>\n    </>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,UAAU,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,KAAK,CAACa,QAAQ,CAAC;IACvCC,YAAY,EAAE,CAAC;IACfC,UAAU,EAAE,CAAC;IACbC,YAAY,EAAE,CAAC;IACfC,UAAU,EAAE,CAAC;IACbC,kBAAkB,EAAE;EACtB,CAAC,CAAC;EAEFlB,KAAK,CAACmB,SAAS,CAAC,MAAM;IACpB,eAAeC,UAAUA,CAAA,EAAG;MAC1B,IAAI;QACF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChDvB,KAAK,CAACwB,GAAG,CAAC,kBAAkB,CAAC,EAC7BxB,KAAK,CAACwB,GAAG,CAAC,gCAAgC,CAAC,CAC5C,CAAC;QACF,MAAMC,UAAU,GAAGL,QAAQ,CAACM,IAAI,CAACC,KAAK;QACtC,MAAMC,aAAa,GAAGP,WAAW,CAACK,IAAI,CAACC,KAAK;QAC5ChB,QAAQ,CAAC;UACPE,YAAY,EAAEY,UAAU,GAAG,IAAI;UAC/BX,UAAU,EAAEW,UAAU,GAAG,GAAG;UAC5BV,YAAY,EAAEU,UAAU,GAAG,GAAG;UAC9BT,UAAU,EAAES,UAAU,GAAG,GAAG;UAC5BR,kBAAkB,EAAEW,aAAa,GAC7B,CAAEA,aAAa,IAAIA,aAAa,GAAG,GAAG,CAAC,GAAI,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,GAC1D;QACN,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;MAClB;IACF;IACAX,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMc,YAAY,GAAG,CACnB;IAAEC,KAAK,EAAE,OAAO;IAAEC,OAAO,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAc,CAAC,EACrD;IAAEF,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAc,CAAC,EACvD;IAAEF,KAAK,EAAE,QAAQ;IAAEC,OAAO,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACxD;IAAEF,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAa,CAAC,EACrD;IAAEF,KAAK,EAAE,MAAM;IAAEC,OAAO,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAe,CAAC,CACtD;EACD,MAAMC,UAAU,GAAG,CAAC,GAAGJ,YAAY,CAAC;EACpC,MAAMK,UAAU,GAAG,CAAC,GAAGL,YAAY,CAAC;EAEpC,oBACE5B,OAAA,CAAAE,SAAA;IAAAgC,QAAA,gBACElC,OAAA;MAAKmC,SAAS,EAAC,6BAA6B;MAAAD,QAAA,gBAC1ClC,OAAA,CAACoC,QAAQ;QACPC,KAAK,EAAC,SAAS;QACfC,QAAQ,EAAC,YAAY;QACrBC,KAAK,EAAE,IAAIlC,KAAK,CAACG,YAAY,CAACgC,cAAc,CAAC,CAAC,EAAG;QACjDC,UAAU,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF7C,OAAA,CAACoC,QAAQ;QACPC,KAAK,EAAC,OAAO;QACbC,QAAQ,EAAC,YAAY;QACrBC,KAAK,EAAE,IAAIlC,KAAK,CAACI,UAAU,CAAC+B,cAAc,CAAC,CAAC,EAAG;QAC/CC,UAAU,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eACF7C,OAAA,CAACoC,QAAQ;QACPC,KAAK,EAAC,SAAS;QACfC,QAAQ,EAAC,YAAY;QACrBC,KAAK,EAAE,IAAIlC,KAAK,CAACK,YAAY,CAAC8B,cAAc,CAAC,CAAC,EAAG;QACjDC,UAAU,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B,CAAC,eACF7C,OAAA,CAACoC,QAAQ;QACPC,KAAK,EAAC,aAAa;QACnBC,QAAQ,EAAC,UAAU;QACnBC,KAAK,EAAE,IAAIlC,KAAK,CAACM,UAAU,CAAC6B,cAAc,CAAC,CAAC,EAAG;QAC/CC,UAAU,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN7C,OAAA;MAAKmC,SAAS,EAAC,wBAAwB;MAAAD,QAAA,gBACrClC,OAAA,CAACH,WAAW;QAACwC,KAAK,EAAC,kBAAkB;QAACS,KAAK,EAAElB;MAAa;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC7D7C,OAAA,CAACH,WAAW;QAACwC,KAAK,EAAC,gBAAgB;QAACS,KAAK,EAAEd;MAAW;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzD7C,OAAA,CAACH,WAAW;QAACwC,KAAK,EAAC,gBAAgB;QAACS,KAAK,EAAEb;MAAW;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzD7C,OAAA;QAAKmC,SAAS,EAAC,2DAA2D;QAAAD,QAAA,gBACxElC,OAAA,CAACF,UAAU;UAACgC,OAAO,EAAEiB,MAAM,CAAC1C,KAAK,CAACO,kBAAkB;QAAE;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzD7C,OAAA;UAAGmC,SAAS,EAAC,oBAAoB;UAAAD,QAAA,EAAC;QAAuB;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC7D7C,OAAA;UAAGmC,SAAS,EAAC,+BAA+B;UAAAD,QAAA,GAAC,SAAE,EAAC7B,KAAK,CAACO,kBAAkB,EAAC,GAAC;QAAA;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP;AAACzC,EAAA,CArFuBD,SAAS;AAAA6C,EAAA,GAAT7C,SAAS;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}