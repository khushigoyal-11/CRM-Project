{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\mini-crm\\\\crm-frontend\\\\src\\\\pages\\\\Segments\\\\Builder.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport RuleBuilder from '../../components/RuleBuilder';\nimport SegmentPreview from '../../components/SegmentPreview';\nimport { previewSegment, createSegment } from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Builder() {\n  _s();\n  const [rules, setRules] = useState([]);\n  const [count, setCount] = useState(null);\n  const [name, setName] = useState('');\n  const handlePreview = async () => {\n    const cnt = await previewSegment(rules);\n    setCount(cnt);\n  };\n  const handleSave = async () => {\n    await createSegment(name, rules);\n    // redirect to /segments\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"Create Audience Segment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Segment Name\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      className: \"mb-4 p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RuleBuilder, {\n      rules: rules,\n      onChange: setRules\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePreview,\n        className: \"px-4 py-2 bg-indigo-600 text-white rounded\",\n        children: \"Preview Audience Size\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        className: \"px-4 py-2 bg-green-600 text-white rounded\",\n        children: \"Save Segment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), count !== null && /*#__PURE__*/_jsxDEV(SegmentPreview, {\n      count: count\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true);\n}\n_s(Builder, \"LbdXDE4ka8m3MBWXIhpq853BSx4=\");\n_c = Builder;\nvar _c;\n$RefreshReg$(_c, \"Builder\");","map":{"version":3,"names":["React","useState","RuleBuilder","SegmentPreview","previewSegment","createSegment","jsxDEV","_jsxDEV","Fragment","_Fragment","Builder","_s","rules","setRules","count","setCount","name","setName","handlePreview","cnt","handleSave","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/mini-crm/crm-frontend/src/pages/Segments/Builder.js"],"sourcesContent":["import React, { useState } from 'react';\nimport RuleBuilder from '../../components/RuleBuilder';\nimport SegmentPreview from '../../components/SegmentPreview';\nimport { previewSegment, createSegment } from '../../services/api';\n\nexport default function Builder() {\n  const [rules, setRules]     = useState([]);\n  const [count, setCount]     = useState(null);\n  const [name, setName]       = useState('');\n\n  const handlePreview = async () => {\n    const cnt = await previewSegment(rules);\n    setCount(cnt);\n  };\n\n  const handleSave = async () => {\n    await createSegment(name, rules);\n    // redirect to /segments\n  };\n\n  return (\n    <>\n      <h1 className=\"text-2xl font-bold mb-6\">Create Audience Segment</h1>\n      <input\n        type=\"text\"\n        placeholder=\"Segment Name\"\n        value={name}\n        onChange={e => setName(e.target.value)}\n        className=\"mb-4 p-2 border rounded\"\n      />\n      <RuleBuilder rules={rules} onChange={setRules} />\n      <div className=\"mt-4 space-x-2\">\n        <button onClick={handlePreview} className=\"px-4 py-2 bg-indigo-600 text-white rounded\">\n          Preview Audience Size\n        </button>\n        <button onClick={handleSave} className=\"px-4 py-2 bg-green-600 text-white rounded\">\n          Save Segment\n        </button>\n      </div>\n      {count !== null && <SegmentPreview count={count} />}\n    </>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,cAAc,MAAM,iCAAiC;AAC5D,SAASC,cAAc,EAAEC,aAAa,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnE,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAOZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAOd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAShB,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMiB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,GAAG,GAAG,MAAMf,cAAc,CAACQ,KAAK,CAAC;IACvCG,QAAQ,CAACI,GAAG,CAAC;EACf,CAAC;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMf,aAAa,CAACW,IAAI,EAAEJ,KAAK,CAAC;IAChC;EACF,CAAC;EAED,oBACEL,OAAA,CAAAE,SAAA;IAAAY,QAAA,gBACEd,OAAA;MAAIe,SAAS,EAAC,yBAAyB;MAAAD,QAAA,EAAC;IAAuB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpEnB,OAAA;MACEoB,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,cAAc;MAC1BC,KAAK,EAAEb,IAAK;MACZc,QAAQ,EAAEC,CAAC,IAAId,OAAO,CAACc,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACvCP,SAAS,EAAC;IAAyB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eACFnB,OAAA,CAACL,WAAW;MAACU,KAAK,EAAEA,KAAM;MAACkB,QAAQ,EAAEjB;IAAS;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACjDnB,OAAA;MAAKe,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAC7Bd,OAAA;QAAQ0B,OAAO,EAAEf,aAAc;QAACI,SAAS,EAAC,4CAA4C;QAAAD,QAAA,EAAC;MAEvF;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTnB,OAAA;QAAQ0B,OAAO,EAAEb,UAAW;QAACE,SAAS,EAAC,2CAA2C;QAAAD,QAAA,EAAC;MAEnF;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EACLZ,KAAK,KAAK,IAAI,iBAAIP,OAAA,CAACJ,cAAc;MAACW,KAAK,EAAEA;IAAM;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACnD,CAAC;AAEP;AAACf,EAAA,CArCuBD,OAAO;AAAAwB,EAAA,GAAPxB,OAAO;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}